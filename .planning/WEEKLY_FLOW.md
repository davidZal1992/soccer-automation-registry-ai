# Weekly Flow â€” Soccer Registration Bot

## Timeline Overview

```
SAT 23:00  â†’  SUN 11:00  â†’  Week (Sun-Thu)  â†’  FRI 11:49  â†’  FRI 11:59  â†’  FRI 12:00-12:03  â†’  FRI 12:03+  â†’  SAT warmup-20min  â†’  SAT warmup-15min  â†’  SAT 23:00
  Reset        Post clean       Admin commands      Window         Post to        Burst              Real-time         Last call           Close              Reset
               template         in Group 1          closes         Group 2        collection         updates           message             registration       for new week
```

---

## Saturday 23:00 â€” Weekly Reset

Bot resets all data for the new cycle:
- Clears player list (all 24 slots empty)
- Clears waiting list
- Clears userId â†’ name mapping
- Sets `registrationOpen = false`
- Resets warmup/start times to defaults (20:30 / 21:00)

---

## Sunday 11:00 â€” Post Clean Template in Group 1

Bot posts a fresh template in the **Managers Group** (Group 1):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Bot                           11:00 â”‚
â”‚                                         â”‚
â”‚ ×›×“×•×¨×’×œ ××•×¦"×© 21/02 âš½ğŸ”¥                â”‚
â”‚                                         â”‚
â”‚ ×—×™××•×: 20:30 â°                         â”‚
â”‚ ×”×ª×—×œ×”: 21:00 ğŸ•˜                         â”‚
â”‚                                         â”‚
â”‚ 1. ___                                  â”‚
â”‚ 2. ___                                  â”‚
â”‚ 3. ___                                  â”‚
â”‚ ...                                     â”‚
â”‚ 24. ___                                 â”‚
â”‚                                         â”‚
â”‚ 1. *××™ ×©×œ× ×›×•×ª×‘ ×©× ××œ× ×œ× × ×›× ×¡ ×œ×¨×©×™××”* â”‚
â”‚ 2. *×›×œ ××—×“ ×™×›×•×œ ×œ×¨×©×•× ×¨×§ ×©× ××—×“*       â”‚
â”‚                                         â”‚
â”‚ *×›×‘×™×¡×” ××¡×¤×¨ 24*                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Sundayâ€“Thursday â€” Admin Commands in Group 1

Admins @mention the bot to build the template during the week.

### Example: Admin registers himself (Sunday evening)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ×“×•×“ ×–×œ×¦××Ÿ                    19:30 â”‚
â”‚ @Bot ×ª×•×¡×™×£ ××•×ª×™                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Bot sends to Claude Haiku â†’ {"type": "register_self"}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Bot                           19:30 â”‚
â”‚                                         â”‚
â”‚ ×›×“×•×¨×’×œ ××•×¦"×© 21/02 âš½ğŸ”¥                â”‚
â”‚                                         â”‚
â”‚ ×—×™××•×: 20:30 â°                         â”‚
â”‚ ×”×ª×—×œ×”: 21:00 ğŸ•˜                         â”‚
â”‚                                         â”‚
â”‚ 1. ×“×•×“ ×–×œ×¦××Ÿ                           â”‚
â”‚ 2. ___                                  â”‚
â”‚ ...                                     â”‚
â”‚ 24. ___                                 â”‚
â”‚                                         â”‚
â”‚ 1. *××™ ×©×œ× ×›×•×ª×‘ ×©× ××œ× ×œ× × ×›× ×¡ ×œ×¨×©×™××”* â”‚
â”‚ 2. *×›×œ ××—×“ ×™×›×•×œ ×œ×¨×©×•× ×¨×§ ×©× ××—×“*       â”‚
â”‚                                         â”‚
â”‚ *×›×‘×™×¡×” ××¡×¤×¨ 24*                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example: Admin changes warmup time (Monday)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ×“×•×“ ×–×œ×¦××Ÿ                    10:00 â”‚
â”‚ @Bot ×—×™××•× 20:00                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Bot sends to Claude Haiku â†’ {"type": "set_warmup_time", "time": "20:00"}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Bot                           10:00 â”‚
â”‚                                         â”‚
â”‚ ×›×“×•×¨×’×œ ××•×¦"×© 21/02 âš½ğŸ”¥                â”‚
â”‚                                         â”‚
â”‚ ×—×™××•×: 20:00 â°                         â”‚
â”‚ ×”×ª×—×œ×”: 21:00 ğŸ•˜                         â”‚
â”‚                                         â”‚
â”‚ 1. ×“×•×“ ×–×œ×¦××Ÿ                           â”‚
â”‚ 2. ___                                  â”‚
â”‚ ...                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example: Admin assigns laundry (Tuesday)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ×“×•×“ ×–×œ×¦××Ÿ                    14:00 â”‚
â”‚ @Bot ×›×‘×™×¡×” ×™×•×¡×™ ×œ×•×™                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Bot sends to Claude Haiku â†’ {"type": "set_laundry", "name": "×™×•×¡×™ ×œ×•×™"}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Bot                           14:00 â”‚
â”‚                                         â”‚
â”‚ ...                                     â”‚
â”‚ 1. ×“×•×“ ×–×œ×¦××Ÿ                           â”‚
â”‚ 2. ___                                  â”‚
â”‚ ...                                     â”‚
â”‚ 24. ×™×•×¡×™ ×œ×•×™ (×›×‘×™×¡×”)                   â”‚
â”‚                                         â”‚
â”‚ 1. *××™ ×©×œ× ×›×•×ª×‘ ×©× ××œ× ×œ× × ×›× ×¡ ×œ×¨×©×™××”* â”‚
â”‚ 2. *×›×œ ××—×“ ×™×›×•×œ ×œ×¨×©×•× ×¨×§ ×©× ××—×“*       â”‚
â”‚                                         â”‚
â”‚ *×›×‘×™×¡×” ××¡×¤×¨ 24*                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example: Admin checks current list (Thursday)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ×“×•×“ ×–×œ×¦××Ÿ                    20:00 â”‚
â”‚ @Bot ××” ×”××¦×‘                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Bot sends to Claude Haiku â†’ {"type": "show_template"}

  Bot posts current template (no changes, no save)
```

### Example: Non-admin or non-tagged message â†’ IGNORED

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ×¨× ×“×•× ×‘×Ÿ ××“×                 20:05 â”‚
â”‚ @Bot ×ª×•×¡×™×£ ××•×ª×™                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  âŒ Not admin â†’ IGNORED (no response)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ×“×•×“ ×–×œ×¦××Ÿ                    20:10 â”‚
â”‚ ××” ×§×•×¨×” ×—×‘×¨'×”                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  âŒ Bot not @mentioned â†’ IGNORED
```

---

## Friday 11:49 â€” Admin Command Window Closes

No more admin commands accepted until next Saturday 23:00.

---

## Friday 11:59 â€” Bot Posts Template in Group 2

Bot takes the template built in Group 1 and posts it in the **Players Group** (Group 2):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Bot                           11:59 â”‚
â”‚                                         â”‚
â”‚ ×›×“×•×¨×’×œ ××•×¦"×© 21/02 âš½ğŸ”¥                â”‚
â”‚                                         â”‚
â”‚ ×—×™××•×: 20:00 â°                         â”‚
â”‚ ×”×ª×—×œ×”: 21:00 ğŸ•˜                         â”‚
â”‚                                         â”‚
â”‚ 1. ×“×•×“ ×–×œ×¦××Ÿ                           â”‚
â”‚ 2. ___                                  â”‚
â”‚ 3. ___                                  â”‚
â”‚ ...                                     â”‚
â”‚ 24. ×™×•×¡×™ ×œ×•×™ (×›×‘×™×¡×”)                   â”‚
â”‚                                         â”‚
â”‚ 1. *××™ ×©×œ× ×›×•×ª×‘ ×©× ××œ× ×œ× × ×›× ×¡ ×œ×¨×©×™××”* â”‚
â”‚ 2. *×›×œ ××—×“ ×™×›×•×œ ×œ×¨×©×•× ×¨×§ ×©× ××—×“*       â”‚
â”‚                                         â”‚
â”‚ *×›×‘×™×¡×” ××¡×¤×¨ 24*                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Friday 12:00 â€” Registration Opens

Bot opens Group 2 (changes from admin-only â†’ everyone can send).
Sets `registrationOpen = true`.

---

## Friday 12:00â€“12:03 â€” Burst Registration (Collected)

Players rush to register. Bot collects all messages silently (no response yet).

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ××‘×™ ×›×”×Ÿ                      12:00 â”‚
â”‚ ××‘×™ ×›×”×Ÿ                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ ×¨×•× ×™ ×œ×•×™                      12:00 â”‚
â”‚ ×¨×•× ×™ ×œ×•×™                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ ××©×” ×“×•×“                       12:00 â”‚
â”‚ ×× ×™ ×‘×¤× ×™× - ××©×” ×“×•×“                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ ××œ×™ ×—×’×³×’×³                    12:01 â”‚
â”‚ ××œ×™ ×—×’×³×’×³                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ ×™×¢×§×‘ ×¤×¨×¥                      12:01 â”‚
â”‚ ××’×™×¢! ×™×¢×§×‘ ×¤×¨×¥                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ... (15 more players register) ...      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ ×©×œ×•××™ ××•×—× ×”                   12:02 â”‚
â”‚ ×™××œ×”                                    â”‚
â”‚                                         â”‚
â”‚  âŒ No full name â†’ IGNORED              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ ×“× ×™ ××‘×¨×”×                     12:02 â”‚
â”‚ ×ª×¨×©×•× ××ª ××—×™ - ×“× ×™ ××‘×¨×”×               â”‚
â”‚                                         â”‚
â”‚  âœ… "×“× ×™ ××‘×¨×”×" registered              â”‚
â”‚  (mapped to this sender's userId)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Friday 12:03 â€” Burst Processing

Bot sends all collected messages to Claude Sonnet for batch parsing.
Claude extracts full names â†’ bot fills template â†’ saves â†’ deletes old template â†’ posts updated:

```
  ğŸ—‘ï¸ Bot deletes 11:59 template message

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Bot                           12:03 â”‚
â”‚                                         â”‚
â”‚ ×›×“×•×¨×’×œ ××•×¦"×© 21/02 âš½ğŸ”¥                â”‚
â”‚                                         â”‚
â”‚ ×—×™××•×: 20:00 â°                         â”‚
â”‚ ×”×ª×—×œ×”: 21:00 ğŸ•˜                         â”‚
â”‚                                         â”‚
â”‚ 1. ×“×•×“ ×–×œ×¦××Ÿ                           â”‚
â”‚ 2. ××‘×™ ×›×”×Ÿ                             â”‚
â”‚ 3. ×¨×•× ×™ ×œ×•×™                             â”‚
â”‚ 4. ××©×” ×“×•×“                              â”‚
â”‚ 5. ××œ×™ ×—×’×³×’×³                           â”‚
â”‚ 6. ×™×¢×§×‘ ×¤×¨×¥                            â”‚
â”‚ 7. ×’×™×œ ×‘×¨×§                             â”‚
â”‚ 8. ×¢×•××¨ ×©×œ×•×                            â”‚
â”‚ ...                                     â”‚
â”‚ 22. ×“× ×™ ××‘×¨×”×                           â”‚
â”‚ 23. ___                                 â”‚
â”‚ 24. ×™×•×¡×™ ×œ×•×™ (×›×‘×™×¡×”)                   â”‚
â”‚                                         â”‚
â”‚ --- ×¨×©×™××ª ×”××ª× ×” ---                     â”‚
â”‚ (empty)                                 â”‚
â”‚                                         â”‚
â”‚ 1. *××™ ×©×œ× ×›×•×ª×‘ ×©× ××œ× ×œ× × ×›× ×¡ ×œ×¨×©×™××”* â”‚
â”‚ 2. *×›×œ ××—×“ ×™×›×•×œ ×œ×¨×©×•× ×¨×§ ×©× ××—×“*       â”‚
â”‚                                         â”‚
â”‚ *×›×‘×™×¡×” ××¡×¤×¨ 24*                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Friday 12:03+ â€” Real-Time Registration

After the burst, each new message with a full name is processed **immediately**.

### Example: Late registration (12:09)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ×ª×•××¨ ×©×•×©×Ÿ                     12:09 â”‚
â”‚ ×ª×•××¨ ×©×•×©×Ÿ                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Bot sends to Claude Sonnet â†’ register "×ª×•××¨ ×©×•×©×Ÿ"
  Template updated: slot 23 filled

  ğŸ—‘ï¸ Bot deletes 12:03 template message

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Bot                           12:09 â”‚
â”‚                                         â”‚
â”‚ ...                                     â”‚
â”‚ 22. ×“× ×™ ××‘×¨×”×                           â”‚
â”‚ 23. ×ª×•××¨ ×©×•×©×Ÿ                           â”‚
â”‚ 24. ×™×•×¡×™ ×œ×•×™ (×›×‘×™×¡×”)                   â”‚
â”‚                                         â”‚
â”‚ 1. *××™ ×©×œ× ×›×•×ª×‘ ×©× ××œ× ×œ× × ×›× ×¡ ×œ×¨×©×™××”* â”‚
â”‚ 2. *×›×œ ××—×“ ×™×›×•×œ ×œ×¨×©×•× ×¨×§ ×©× ××—×“*       â”‚
â”‚                                         â”‚
â”‚ *×›×‘×™×¡×” ××¡×¤×¨ 24*                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example: Full + waiting list (12:15 onwards)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ×©××¢×•×Ÿ ×‘×™×˜×•×Ÿ                   12:15 â”‚
â”‚ ×©××¢×•×Ÿ ×‘×™×˜×•×Ÿ                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  All 24 slots full â†’ goes to waiting list

  ğŸ—‘ï¸ Bot deletes previous template

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Bot                           12:15 â”‚
â”‚                                         â”‚
â”‚ ...                                     â”‚
â”‚ 24. ×™×•×¡×™ ×œ×•×™ (×›×‘×™×¡×”)                   â”‚
â”‚                                         â”‚
â”‚ --- ×¨×©×™××ª ×”××ª× ×” ---                     â”‚
â”‚ ×©××¢×•×Ÿ ×‘×™×˜×•×Ÿ                             â”‚
â”‚                                         â”‚
â”‚ 1. *××™ ×©×œ× ×›×•×ª×‘ ×©× ××œ× ×œ× × ×›× ×¡ ×œ×¨×©×™××”* â”‚
â”‚ 2. *×›×œ ××—×“ ×™×›×•×œ ×œ×¨×©×•× ×¨×§ ×©× ××—×“*       â”‚
â”‚                                         â”‚
â”‚ *×›×‘×™×¡×” ××¡×¤×¨ 24*                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ... 5 more players register â†’ waiting list grows to 6
```

### Example: Non-registration message â†’ IGNORED

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ×¨×•× ×™ ×œ×•×™                      13:00 â”‚
â”‚ ××™ ×‘× ×”×™×•×?                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Claude â†’ not registration/cancellation â†’ IGNORED
  (No template post, no change)
```

---

## Saturday Morning â€” Cancellation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ××©×” ×“×•×“                       09:00 â”‚
â”‚ ××‘×˜×œ                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Claude â†’ cancel for userId of ××©×” ×“×•×“
  Bot looks up userId â†’ finds "××©×” ×“×•×“" in slot 4
  Removes ××©×” ×“×•×“ from slot 4
  Promotes first from waiting list (×©××¢×•×Ÿ ×‘×™×˜×•×Ÿ) â†’ slot 4

  ğŸ—‘ï¸ Bot deletes previous template

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Bot                           09:00 â”‚
â”‚                                         â”‚
â”‚ ...                                     â”‚
â”‚ 4. ×©××¢×•×Ÿ ×‘×™×˜×•×Ÿ                          â”‚
â”‚ ...                                     â”‚
â”‚ 24. ×™×•×¡×™ ×œ×•×™ (×›×‘×™×¡×”)                   â”‚
â”‚                                         â”‚
â”‚ --- ×¨×©×™××ª ×”××ª× ×” ---                     â”‚
â”‚ (5 remaining players)                   â”‚
â”‚                                         â”‚
â”‚ 1. *××™ ×©×œ× ×›×•×ª×‘ ×©× ××œ× ×œ× × ×›× ×¡ ×œ×¨×©×™××”* â”‚
â”‚ 2. *×›×œ ××—×“ ×™×›×•×œ ×œ×¨×©×•× ×¨×§ ×©× ××—×“*       â”‚
â”‚                                         â”‚
â”‚ *×›×‘×™×¡×” ××¡×¤×¨ 24*                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Security: Player tries to cancel someone else

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ××©×” ×“×•×“                       09:05 â”‚
â”‚ ×ª×‘×˜×œ ××ª ××œ×™ ×—×’×³×’×³                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Code looks up ××©×” ×“×•×“'s userId in mapping
  â†’ Already cancelled (not in map) â†’ IGNORED
  ××œ×™ ×—×’×³×’×³ is NOT affected
```

---

## Saturday â€” Admin Manual Override in Group 2

If an admin needs to manually fix the list, they @mention the bot and paste a corrected template:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ×“×•×“ ×–×œ×¦××Ÿ (Admin)            10:00 â”‚
â”‚ @Bot                                    â”‚
â”‚ 1. ×“×•×“ ×–×œ×¦××Ÿ                           â”‚
â”‚ 2. ××‘×™ ×›×”×Ÿ                             â”‚
â”‚ 3. ×¨×•× ×™ ×œ×•×™                             â”‚
â”‚ 4. ×©××¢×•×Ÿ ×‘×™×˜×•×Ÿ                          â”‚
â”‚ 5. ××œ×™ ×—×’×³×’×³                           â”‚
â”‚ ...                                     â”‚
â”‚ 24. ×™×•×¡×™ ×œ×•×™                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Bot recognizes numbered list from admin
  Saves as current template (no post)
  Next registration/cancellation will use this updated list
```

---

## Saturday warmup - 20 min â€” Last Call

Bot posts in Group 2:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Bot                           19:40 â”‚
â”‚ ×‘×™×˜×•×œ×™× ××—×¨×•× ×™×? â³                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Players have 5 more minutes to cancel.

---

## Saturday warmup - 15 min â€” Registration Closes

Bot processes any remaining messages, posts final template, locks Group 2:

```
  ğŸ—‘ï¸ Bot deletes previous template

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– Bot                           19:45 â”‚
â”‚                                         â”‚
â”‚ (final template with all 24 players)    â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Group 2 locked (admin-only mode)
```

---

## Saturday 23:00 â€” Reset

Bot clears everything. Cycle starts again.

---

## Security Summary

| Group | Who | Action | Result |
|-------|-----|--------|--------|
| Group 1 | Admin + @mention | Any command (natural Hebrew) | LLM classifies, bot executes |
| Group 1 | Admin + @mention | Unrecognized text | IGNORED |
| Group 1 | Non-admin + @mention | Anything | IGNORED |
| Group 1 | Anyone, no @mention | Anything | IGNORED |
| Group 2 | Admin + @mention | Sleep/wake | Bot sleeps/wakes |
| Group 2 | Admin + @mention | Paste numbered list | Override template (save only) |
| Group 2 | Admin + @mention | Other | IGNORED |
| Group 2 | Non-admin + @mention | Anything | IGNORED |
| Group 2 | Anyone, no @mention | Full name (registration open) | Register/cancel SENDER only |
| Group 2 | Anyone, no @mention | Random text | IGNORED |

### Player Registration Rules
- Each sender can register **one name** (themselves or someone else)
- Cancellation always removes the name **the sender registered** (by userId lookup)
- A player **cannot** cancel or remove someone else's registration
- Full name (2+ words) required for registration
- Waiting list auto-promotes when a slot opens
